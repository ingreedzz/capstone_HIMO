<style>
    .card-hover {
        transition: all 0.2s ease-in-out;
    }
    .card-hover:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
    .animate-spin {
        animation: spin 1s linear infinite;
    }
    @keyframes spin {
        from { transform: rotate(0deg); }
        to { transform: rotate(360deg); }
    }
</style>

<body class="bg-gray-50 min-h-screen">
    <main class="max-w-6xl mx-auto px-4 py-8 sm:px-6 lg:px-8 xl:py-20">
        <div class="flex flex-col sm:flex-row justify-between items-start sm:items-center mb-8">
            <h1 class="text-3xl font-bold text-gray-600 mb-4 sm:mb-0 ">History</h1>
            <div class="w-full sm:w-auto">
                <select id="filterDropdown" class="w-full sm:w-48 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white">
                    <option value="all">All Time</option>
                    <option value="today">Today</option>
                    <option value="lastMonth">Last Month</option>
                    <option value="earlierThisYear">Earlier This Year</option>
                    <option value="lastYear">Last Year</option>
                </select>
            </div>
        </div>

        <div id="loadingState" class="flex justify-center items-center py-12">
            <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-purple-600"></div>
            <span class="ml-3 text-gray-600">Loading your history...</span>
        </div>

        <div id="historyContent" class="hidden">
        </div>

        <div id="emptyState" class="hidden text-center py-12">
            <div class="text-gray-400 mb-4">
                <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                </svg>
            </div>
            <p class="text-gray-500 text-lg">No history entries found.</p>
            <p class="text-gray-400 text-sm mt-2">Start sharing your thoughts to see your history here.</p>
        </div>

        <div id="errorState" class="hidden text-center py-12">
            <div class="text-red-400 mb-4">
                <svg class="w-16 h-16 mx-auto" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 15.5c-.77.833.192 2.5 1.732 2.5z"></path>
                </svg>
            </div>
            <p class="text-red-500 text-lg">Failed to load history</p>
            <button id="retryButton" class="mt-4 px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors">
                Try Again
            </button>
        </div>
    </main>

    <script type="module" src="../presenters/historyPresenter.js"></script>
    
</body>
